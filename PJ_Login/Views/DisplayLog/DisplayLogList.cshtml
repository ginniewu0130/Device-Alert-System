@model List<AbnomalLogViewmodel>
@using Newtonsoft.Json;
@{
    ViewBag.Title = "abnormalLogList";
}
<style>
    body {
        background-color: #9ccdf2;
    }
    #dataContainer {
        margin-top: 20px;
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
</style>
<h1>Abnormal Log List</h1>
<select class="form-select" aria-label="Action select">
    <option selected>====Action====</option>
    <option value="accept">Accept</option>
    <option value="client-rst">Client-Reset</option>
    <option value="close">Close</option>
    <option value="deny">Deny</option>
    <option value="ip-conn">IP-Connection</option>
    <option value="server-rst">Server-Reset</option>
    <option value="timeout">Timeout</option>
</select>
<div id="dataContainer"></div>

<script>
    var dataJson = '@Html.Raw(JsonConvert.SerializeObject(Model))';
    var datas = JSON.parse(dataJson);
    var dataContainer = document.getElementById("dataContainer");

    // 建立表格元素
    var table = document.createElement("table");

    // 建立表頭
    var thead = document.createElement("thead");
    var headerRow = document.createElement("tr");

    var header1 = document.createElement("th");
    header1.textContent = "Source IP";
    headerRow.appendChild(header1);

    var header2 = document.createElement("th");
    header2.textContent = "Destination IP";
    headerRow.appendChild(header2);

    var header3 = document.createElement("th");
    header3.textContent = "Source Port";
    headerRow.appendChild(header3);

    var header4 = document.createElement("th");
    header4.textContent = "Destination Port";
    headerRow.appendChild(header4);

    var header5 = document.createElement("th");
    header5.textContent = "Action";
    headerRow.appendChild(header5);

    thead.appendChild(headerRow);
    table.appendChild(thead);

    // 建立表身
    var tbody = document.createElement("tbody");

    for (var i = 0; i < datas.length; i++) {
        var item = datas[i];

        // 建立資料行
        var row = document.createElement("tr");

        var cell1 = document.createElement("td");
        cell1.textContent = item.SourceIp;
        row.appendChild(cell1);

        var cell2 = document.createElement("td");
        cell2.textContent = item.DestinationIp;
        row.appendChild(cell2);

        var cell3 = document.createElement("td");
        cell3.textContent = item.SourcePort;
        row.appendChild(cell3);

        var cell4 = document.createElement("td");
        cell4.textContent = item.DistinationPort;
        row.appendChild(cell4);

        var cell5 = document.createElement("td");
        cell5.textContent = item.Action;
        row.appendChild(cell5);

        tbody.appendChild(row);
    }

    table.appendChild(tbody);

    // 將表格元素添加到容器元素中
    dataContainer.appendChild(table);
</script>

